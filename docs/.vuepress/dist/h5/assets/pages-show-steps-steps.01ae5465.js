import{_ as t}from"./t-nav-bar.b0596156.js";import{o as s,c as e,w as l,q as o,I as i,e as a,H as r,y as c,C as n,v as u,n as f}from"./vendor.0ee72332.js";import{n as d,E as h,b as p,h as C,$ as m,a as _,r as S,_ as g}from"./uni-app.es.03cc7760.js";import{I as k,P as b}from"./effects.5bcde988.js";import{_ as x}from"./t-btn.cf8fe697.js";import{_ as F}from"./example.39179343.js";import"./size.22bfc1cd.js";import"./rounded.20e7000d.js";var $=p({name:"t-step",mixins:[h(["click"]),(t=>{if(d("String",t))throw new Error("counter的注入配置必须包含name且类型为字符串");return{data(){return{counter:this[`${t}UseCounter`]()}},inject:{[`${t}UseCounter`]:{default:()=>{}},[`${t}ShowCounter`]:{default:()=>{}},[`${t}IncCounter`]:{default:()=>{}},[`${t}DecCounter`]:{default:()=>{}}}}})("Steps"),k("Steps")],inject:["StepsSuccessColor","StepsFailColor"],data:()=>({status:"pending"}),computed:{Sign(){return this.counter+1},Status(){const{Color:t,status:s}=this;return t[s]||null},Color(){const{StepsSuccessColor:t,StepsFailColor:s}=this;return{pending:null,fail:s,success:t}},PassagewayVisible(){return 0!==this.counter}},beforeMount(){this.StepsTrackEffect(this.counter,((t=this.status)=>this.status=t))}},[["render",function(t,f,d,h,p,C){const m=u;return s(),e(m,{class:"t-step",onClick:t.click},{default:l((()=>[C.PassagewayVisible?(s(),e(m,{key:0,class:o(["step-passageway",[C.Status]])},null,8,["class"])):i("",!0),a(m,{class:o(["step-sign",[C.Status]])},{default:l((()=>[r(t.$slots,"sign",{},(()=>[c(n(C.Sign),1)]),!0)])),_:3},8,["class"]),r(t.$slots,"default",{},void 0,!0)])),_:3},8,["onClick"])}],["__scopeId","data-v-48fa9e6b"]]);const y=C("step");var j=p({name:"t-steps",mixins:[h(["click"]),(t=>{if(d("String",t))throw new Error("counter的依赖配置必须包含name且类型为字符串");return{data:()=>({counter:0}),provide(){return{[`${t}UseCounter`]:()=>this.counter++,[`${t}ShowCounter`]:()=>this.counter,[`${t}IncCounter`]:()=>++this.counter,[`${t}DecCounter`]:()=>--this.counter}}}})("Steps"),b("Steps")],emits:["fail"],props:m({current:0,fail:!1,failColor:"error",successColor:"success"}),provide(){return{StepsFailColor:this.FailColor,StepsSuccessColor:this.SuccessColor}},computed:_({FailColor:y,SuccessColor:y}),watch:{current(t,s){if(this.fail)return;if(0!==s&&0===t)return this.reset();const e=this.range(t);this.setSuccess(e)},fail(t){if(!0===t){const t=this.range();this.setFail(t)}}},methods:{initStatus(){const t=this.range();for(let s=0;s<=t;s++)this.setSuccess(s);this.fail&&this.setFail(t)},reset(){this.triggerAllEffect("pending"),this.setSuccess(0),this.$emit("reset")},setSuccess(t){return this.$emit("success",t),this.triggerEffect(t,"success")},setFail(t){return this.$emit("fail",t),this.triggerEffect(t,"fail")},range(t=this.current){const s=this.sizeEffects()-1;return t>s?s:t}},mounted(){this.$nextTick((()=>this.initStatus()))}},[["render",function(t,o,i,a,c,n){const f=u;return s(),e(f,{class:"t-steps",onClick:t.click},{default:l((()=>[r(t.$slots,"default",{},void 0,!0)])),_:3},8,["onClick"])}],["__scopeId","data-v-823bd844"]]);var v=p({data:()=>({base:0,customSlot:1,color:2,customFail:0,fail:!1}),methods:{next(){this.base++},reset(){this.base=0},nextCustomSlot(){this.customSlot++},resetCustomSlot(){this.customSlot=0},nextColor(){this.color++},resetColor(){this.color=0},nextFail(){this.customFail++},resetFail(){this.fail=!1,this.customFail=0},toFail(){this.customFail++,this.fail=!0}}},[["render",function(o,i,r,n,d,h){const p=S(f("t-nav-bar"),t),C=S(f("t-step"),$),m=S(f("t-steps"),j),_=S(f("t-btn"),x),k=u,b=S(f("example"),F),y=S(f("t-icon"),g);return s(),e(k,{class:"pb-20"},{default:l((()=>[a(p,{title:"Steps",sticky:""}),a(b,{title:"基础",customClass:"mt-8"},{default:l((()=>[a(m,{current:d.base},{default:l((()=>[a(C,null,{default:l((()=>[c("注册")])),_:1}),a(C,null,{default:l((()=>[c("登录")])),_:1}),a(C,null,{default:l((()=>[c("购买")])),_:1}),a(C,null,{default:l((()=>[c("收货")])),_:1})])),_:1},8,["current"]),a(k,{class:"mt-5 flex justify-center"},{default:l((()=>[a(_,{color:"success",onClick:h.next},{default:l((()=>[c("Next")])),_:1},8,["onClick"]),a(_,{color:"base",light:"",onClick:h.reset,class:"ml-6"},{default:l((()=>[c("Reset")])),_:1},8,["onClick"])])),_:1})])),_:1}),a(b,{title:"插槽"},{default:l((()=>[a(m,{current:d.customSlot},{default:l((()=>[a(C,null,{sign:l((()=>[a(y,{type:"highlight"})])),default:l((()=>[c(" 注册 ")])),_:1}),a(C,null,{sign:l((()=>[a(y,{type:"login"})])),default:l((()=>[c(" 登录 ")])),_:1}),a(C,null,{sign:l((()=>[a(y,{type:"shopping"})])),default:l((()=>[c(" 购买 ")])),_:1}),a(C,null,{sign:l((()=>[a(y,{type:"car"})])),default:l((()=>[c(" 收货 ")])),_:1})])),_:1},8,["current"]),a(k,{class:"mt-5 flex justify-center"},{default:l((()=>[a(_,{color:"success",onClick:h.nextCustomSlot},{default:l((()=>[c("Next")])),_:1},8,["onClick"]),a(_,{color:"base",light:"",onClick:h.resetCustomSlot,class:"ml-6"},{default:l((()=>[c("Reset")])),_:1},8,["onClick"])])),_:1})])),_:1}),a(b,{title:"颜色"},{default:l((()=>[a(m,{current:d.color,successColor:"accent"},{default:l((()=>[a(C,null,{default:l((()=>[c("注册")])),_:1}),a(C,null,{sign:l((()=>[c(" 👀 ")])),default:l((()=>[c(" 登录 ")])),_:1}),a(C,null,{sign:l((()=>[a(y,{type:"shopping"})])),default:l((()=>[c(" 购买 ")])),_:1}),a(C,null,{default:l((()=>[c("收货")])),_:1})])),_:1},8,["current"]),a(k,{class:"mt-5 flex justify-center"},{default:l((()=>[a(_,{color:"accent",onClick:h.nextColor},{default:l((()=>[c("Next")])),_:1},8,["onClick"]),a(_,{color:"base",light:"",onClick:h.resetColor,class:"ml-6"},{default:l((()=>[c("Reset")])),_:1},8,["onClick"])])),_:1})])),_:1}),a(b,{title:"失败熔断"},{default:l((()=>[a(m,{current:d.customFail,fail:d.fail},{default:l((()=>[a(C,null,{default:l((()=>[c("注册")])),_:1}),a(C,null,{sign:l((()=>[c(" 🤓 ")])),default:l((()=>[c(" 登录 ")])),_:1}),a(C,null,{sign:l((()=>[c(" ! ")])),default:l((()=>[c(" 购买 ")])),_:1}),a(C,null,{default:l((()=>[c("收货")])),_:1})])),_:1},8,["current","fail"]),a(k,{class:"mt-5 flex justify-center"},{default:l((()=>[a(_,{color:"success",onClick:h.nextFail},{default:l((()=>[c("Next")])),_:1},8,["onClick"]),a(_,{color:"error",onClick:h.toFail,class:"ml-6"},{default:l((()=>[c("Fail")])),_:1},8,["onClick"]),a(_,{color:"base",light:"",onClick:h.resetFail,class:"ml-6"},{default:l((()=>[c("Reset")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}]]);export{v as default};
