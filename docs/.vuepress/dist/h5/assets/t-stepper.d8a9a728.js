import{o as e,c as t,w as s,e as a,y as i,q as l,t as d,B as r,O as n,v as o}from"./vendor.0ee72332.js";import{S as p,E as c,C as u,$ as m,a as h,b}from"./uni-app.es.03cc7760.js";import{S as f}from"./size.22bfc1cd.js";import{V}from"./VModel.53dc45c5.js";import{R as x}from"./rounded.20e7000d.js";import{F as D}from"./mixin.3a346e54.js";var g=b({name:"t-stepper",mixins:[p(),c(["click"]),V({value:0}),D("stepper"),x({rounded:"base"}),u({color:"base",light:!0,inject:"stepper"}),f({presets:{xs:"w-4 h-4 text-xs",sm:"w-5 h-5 text-sm",md:"w-6 h-6 text-md",lg:"w-7 h-7 text-lg"}})],emits:["bulr","change","confirm"],props:m({step:1,max:1e4,min:-1e4,disabled:!1,inputWidth:"50rpx",integer:!1}),data:()=>({temp:0}),computed:h({Disabled:"stepper-disabled",IncreaseDisabled:"stepper-disabled",DecreaseDisabled:"stepper-disabled",decreaseDisabled(){const{VModelValue:e,min:t}=this;return e<=t},increaseDisabled(){const{VModelValue:e,max:t}=this;return e>=t},InputWidth(){const{inputWidth:e}=this;return e?{width:e}:null}}),watch:{VModelValue:{immediate:!0,handler(e){this.temp=e}},temp(e){this.updateVModelValue(e)}},methods:{change(e){let t=e.detail.value;this.updateVModelValue(t),this.$emit("change",t)},confirm(e){let t=e.detail.value;this.$emit("confirm",t)},bulr(e){let t=e.detail.value;t=this.format(t),this.$nextTick((()=>{this.updateTemp(t)})),this.FieldTrack({value:t,trigger:"onBlur"}),this.$emit("bulr",e)},format(e){const t=""!==e;return this.integer&&t&&(e=parseInt(e)),this.increaseDisabled&&e>this.max&&(e=this.max),this.decreaseDisabled&&e<this.min&&(e=this.min),e},increase(){if(!this.disabled&&!this.increaseDisabled){const e=this.useFormatCount(this.temp,this.step)(((e,t)=>e+t));this.updateVModelValue(e)}},decrease(){if(!this.disabled&&!this.decreaseDisabled){const e=this.useFormatCount(this.temp,this.step)(((e,t)=>e-t));this.updateVModelValue(e)}},updateTemp(e){this.temp=e},useFormatCount(e,t){let[s,a]=String(e).split(".");const i=a?a.length:0;let[l,d]=String(t).split(".");const r=d?d.length:0,n=Math.max(i,r),o=Math.pow(10,n);return s=>{const a=s(e*o,t*o)/o,i=0===a?a:a.toFixed(n);return Number(i)}}}},[["render",function(p,c,u,m,h,b){const f=r,V=n,x=o;return e(),t(x,{class:"t-stepper",onClick:p.click},{default:s((()=>[a(f,{class:l(["stepper-action",[p.Disabled,p.DecreaseDisabled,p.Color,p.Rounded,p.Shadow,p.Size]]),onClick:b.decrease},{default:s((()=>[i("-")])),_:1},8,["onClick","class"]),a(V,{type:"number",modelValue:h.temp,"onUpdate:modelValue":c[0]||(c[0]=e=>h.temp=e),style:d([p.InputWidth]),disabled:p.disabled,class:l(["stepper-input",[p.Disabled,p.Color,p.Rounded,p.Shadow,p.Size]]),onBlur:b.bulr,onInput:b.change,onConfirm:b.confirm},null,8,["modelValue","style","disabled","class","onBlur","onInput","onConfirm"]),a(f,{class:l(["stepper-action",[p.Disabled,p.IncreaseDisabled,p.Color,p.Rounded,p.Shadow,p.Size]]),onClick:b.increase},{default:s((()=>[i("+")])),_:1},8,["onClick","class"])])),_:1},8,["onClick"])}],["__scopeId","data-v-4f5b606a"]]);export{g as _};
